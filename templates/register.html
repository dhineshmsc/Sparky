<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <style>
        .centered-form {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .centered-form form {
            width: 400px;
        }
    </style>
    
</head>
<body>
    {% if messages %}
        {% for message in messages %}
            <script>
                alert('{{ message|escapejs }}');
            </script>
        {% endfor %}
    {% endif %}
    <div class="container centered-form">
        <form method="POST">
            {% csrf_token %}

            <nav class="navbar p-2" style="background-color: #e3f2fd;">
                <a href="{% url 'admin_login' %}" class="btn btn-success">home</a>       
                <a href="{% url 'logout' %}" class="btn btn-secondary">Logout</a>
              </nav>
            <h2 class="text-center mb-4">User Registration</h2>
            
            <div class="form-group row">
                <label for="id_username" class="col-sm-4 col-form-label">Username*:</label>
                <div class="col-sm-8">
                    {{ form.username }}
                </div>
            </div>
            <div class="form-group row">
                <label for="id_email" class="col-sm-4 col-form-label">Email*:</label>
                <div class="col-sm-8">
                    {{ form.email }}
                </div>
            </div>
            <div class="form-group row">
                <label for="id_password1" class="col-sm-4 col-form-label">Password*:</label>
                <div class="col-sm-8">
                    {{ form.password1 }}
                </div>
            </div>
            <div class="form-group row">
                <label for="id_password2" class="col-sm-4 col-form-label">Re-Password*:</label>
                <div class="col-sm-8">
                    {{ form.password2 }}
                </div>
            </div>
            <div class="form-group row">
                <label for="id_groups" class="col-sm-4 col-form-label">Groups*:</label>
                <div class="col-sm-8">
                    {{ form.groups }}
                </div>
            </div>
            <div class="d-grid col-12 mx-auto">
                <button type="submit" id="submit" class="btn btn-primary btn-block">Register</button>
            </div>
            
        </form>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('submit').addEventListener('click', function(event) {
                var password1 = document.getElementById('id_password1').value;
                var password2 = document.getElementById('id_password2').value;
                if (password1 !== password2) {
                    alert("Passwords do not match!");
                    event.preventDefault(); // Prevent form submission
                } else {

                    document.getElementById('registrationForm').submit(); // Submit form if passwords match
                }
            });
        });
    </script>

</body>
</html>
